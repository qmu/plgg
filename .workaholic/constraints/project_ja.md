---
manager: project-manager
last_updated: 2026-02-26T04:17:53+09:00
---

# プロジェクト

plgg は実験的な TypeScript monorepo（plgg、plgg-foundry、plgg-kit）で、主に内部利用を目的とし、
UNSTABLE と表示されています。project manager は、リリース判断、依存関係の hygiene、および
ドキュメントスコープを制限する constraint を設定します。

## TypeScript 型安全性

**制限対象**: すべてのパッケージにわたる TypeScript ソースファイルにおいて、型エラーの解決策として
`as`、`any`、`ts-ignore` を使用することを禁止する。

**根拠**: CLAUDE.md（1行目）で「最も重要なルール」として明示されています。型の非安全性は実際のエラー
を隠し、プロジェクトの関数型プログラミングの正確性保証を損ないます。

**影響する対象**: delivery-lead、TypeScript ソースコードを書くすべてのリーダーおよび開発者。

**判定基準**: `sh/tsc-plgg.sh` が 0 で終了し、抑制された型エラーがないこと。コミットされたソースファイルに
修正として `as`、`any`、`@ts-ignore` が現れないこと。

**見直しトリガー**: TypeScript が抑制なしに同等の安全性を提供する組み込みメカニズムを導入した場合。

---

## コンパイルおよびテストゲート

**制限対象**: `main` または統合 branch へのコミットで、TypeScript compiler またはテストスイートが
失敗状態のままになることを禁止する。

**根拠**: CLAUDE.md はコンパイルに `sh/tsc-plgg.sh`、テストに `sh/test-plgg.sh` を指定しています。
これらはプロジェクトで定義された品質ゲートです。

**影響する対象**: delivery-lead、commit を生成するすべての agent または開発者。

**判定基準**: マージ前に `sh/tsc-plgg.sh` と `sh/test-plgg.sh` の両方が 0 で終了すること。

**見直しトリガー**: 追加パッケージ（plgg 以外）が専用のゲートスクリプトを持つようになった場合。

---

## リリース準備

**制限対象**: リリース候補 PR が `main` にマージされる際、パッケージバージョンが CHANGELOG で
「Unreleased」とマークされていてはならない。3 つのすべてのパッケージ（plgg、plgg-foundry、plgg-kit）
は PR #6 のマージ前に Unreleased エントリを解決しなければならない。

**根拠**: PR #6 は 2025-07-01 から open で、どのパッケージにもリリース済みバージョンがありません。
Unreleased エントリを解決せずにマージすると、changelog が永続的に古い状態になります。

**影響する対象**: delivery-lead。

**判定基準**: `main` にマージする前に、CHANGELOG の `## [Unreleased]` または
`## [x.y.z] - Unreleased` セクションが日付付きのリリースエントリに置き換えられていること。

**見直しトリガー**: 3 つのすべてのパッケージの最初のリリース成功後。

---

## 依存関係の最新性

**制限対象**: セキュリティ関連パッケージ（`lodash` 等）の Dependabot PR は、open から 30 日以内に
マージまたは明示的に却下しなければならない。

**根拠**: PR #10（lodash バンプ）は 2026-01-23 から open です。`lodash` 4.17.21 には既知のプロトタイプ
汚染 CVE があります。セキュリティ関連の依存関係バンプを open のままにしておくことはプロジェクトの
hygiene リスクです（ソース：`gh pr list`）。

**影響する対象**: delivery-lead、recovery-lead。

**判定基準**: 既知の CVE を持つパッケージの Dependabot PR が 30 日を超えて open になっていないこと。

**見直しトリガー**: 専用のセキュリティレビュープロセスが確立された場合。

---

## パッケージスコープの安定性

**制限対象**: 3 つの published package（`plgg`、`plgg-foundry`、`plgg-kit`）は現在の責任境界を維持する。
`plgg` は関数型プリミティブを提供する。`plgg-kit` は LLM ベンダー抽象化を提供する。`plgg-foundry`
は workflow オーケストレーションを提供する。パッケージ間の責任移行には ticket と明示的な decision record
が必要。

**根拠**: `plgg-kit` は最近 `plgg-foundry` から抽出されました（plgg-foundry CHANGELOG の「Removed」
セクション）。ドキュメントなしのスコープのドリフトは利用者の混乱を引き起こし、下流の import を
破壊します。

**影響する対象**: architecture-lead、delivery-lead。

**判定基準**: 各パッケージの `index.ts` が定義された責任に属するシンボルのみをエクスポートすること。
新しい LLM ベンダーコードが `plgg-foundry` に直接現れないこと。

**見直しトリガー**: 4 つ目のパッケージが導入された場合、または `plgg-kit` が `plgg-foundry` に
マージされた場合。

---

## ドキュメント言語

**制限対象**: すべての `.workaholic/` ドキュメントは英語を第一言語として記述し、作成または更新される
すべてのドキュメントに `_ja.md` 翻訳対応物が必要。

**根拠**: CLAUDE.md は英語で書かれています。workaholic translate skill は、第一言語が英語の
プロジェクトでは英語第一・日本語翻訳をデフォルトとします。

**影響する対象**: `.workaholic/` に書き込むすべての agent または開発者。

**判定基準**: `.workaholic/` 内のすべての `.md` ファイルに対応する `_ja.md` ファイルがあること。
どちらかの言語だけのドキュメントが存在しないこと。

**見直しトリガー**: プロジェクトの CLAUDE.md が異なる第一言語を宣言するよう更新された場合。

---

## 意図的な未制限事項

以下の領域を分析した結果、constraint を正当化する現在の根拠がありませんでした。意図的に制限なしと
しています：

- **リリースケイデンス**: 定期的なスケジュールは観察されていません（履歴に 1 件の tag のみ）。
  リリースはイベント駆動です。API が安定するまで意図的に未制限。
- **コントリビューターワークフロー**: CONTRIBUTING.md や PR テンプレートは観察されていません。
  外部コントリビューターは特定されていません。外部コントリビューターが参加するまで未制限。
- **バージョニング戦略**: パッケージは 0.0.x です。セマンティックバージョニングの意図はドキュメント化
  されていません。最初の安定版リリースまで未制限。
