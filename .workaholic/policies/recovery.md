---
title: Recovery Policy
description: Data persistence mechanisms, backup strategy, migration procedures, and recovery plan for the plgg monorepo.
category: developer
modified_at: 2026-02-26T03:27:33+00:00
commit_hash: ddbb696
---

[English](recovery.md) | [Japanese](recovery_ja.md)

# Recovery Policy

This policy documents all observable recovery-relevant practices in the plgg monorepo at commit `ddbb696`. plgg is a TypeScript functional programming library consisting of three published packages (`plgg`, `plgg-foundry`, `plgg-kit`) and an `example` package. Because the project is a stateless library with no server, no database, and no infrastructure layer, the recovery domain is narrow. Every section below reflects only what is implemented and verifiable in the codebase.

## Data Persistence

plgg contains no persistent data stores. There are no databases, file-based stores, caches, queues, or external storage services in any package. All runtime state is ephemeral: the register file (`Env`) used by `plgg-foundry`'s `operate` function is an in-memory map scoped to a single `runFoundry` invocation and is discarded when the call returns (source: `src/plgg-foundry/src/Foundry/model/`, application viewpoint `.workaholic/specs/application.md` line 149).

The only durable artifacts the project produces are npm packages published to the npm registry via `npm publish` invoked through `sh/publish-plgg.sh` and the `"publish"` script in `src/plgg/package.json`. Published package versions are immutable on npm once released. No retention policy for published versions is declared in the codebase.

Environment variables (`OPENAI_API_KEY`, `ANTHROPIC_API_KEY`, `GEMINI_API_KEY`) are read at runtime by `plgg-kit`'s `generateObject` function. Their management, rotation, and persistence are outside the scope of this repository (source: `src/plgg-kit/src/LLMs/usecase/generateObject.ts`).

## Backup Strategy

No backup scripts, snapshot configurations, or data export procedures are present in the repository. The project's authoritative source of truth is the git repository itself, hosted at `https://github.com/qmu/plgg`. Git history serves as the de facto record of all source changes; no additional backup mechanism is implemented or configured.

npm published packages serve as an additional point-in-time record of released source artifacts, though no automated process exists to verify or restore from npm. Package publication is a manual step executed via `sh/publish-plgg.sh`.

No automated database dumps, filesystem snapshots, object storage policies, or cloud backup configurations are observed anywhere in the repository.

## Migration Procedures

No schema migrations, data migrations, or migration tooling exist in the codebase. The project has no database schema to migrate.

Package API migrations are tracked through CHANGELOG files at the package level (`src/plgg/CHANGELOG.md`, `src/plgg-foundry/CHANGELOG.md`, `src/plgg-kit/CHANGELOG.md`). Breaking changes are noted textually (e.g., `src/plgg/CHANGELOG.md` records renaming of box constructors and pattern matchers in v0.0.25). No automated migration scripts or codemods accompany these changelog entries.

The release pipeline uses CalVer tagging (`YYYY.MM.week{N}.release{N}`) generated by the `release.yml` workflow (`.github/workflows/release.yml`) when a PR is merged to the `release` branch. Tag creation is the only version management operation automated in CI. No rollback procedure for tags or published npm packages is defined.

## Recovery Plan

No formal recovery plan, runbook, RTO target, or RPO target is documented in the repository. The project does not operate a production service, so service restoration in the operational sense does not apply.

The closest recovery-relevant mechanism is the GitHub Actions workflow chain. On push to `main`, `prepare-release.yml` (`.github/workflows/prepare-release.yml`) creates a release candidate PR using `git-pr-release`. On merge to `release`, `release.yml` triggers CalVer tagging and release note publication via `release-drafter`. If either workflow fails, no automated retry or rollback procedure is defined; recovery would be manual re-execution.

The `run-tests.yml` workflow (`.github/workflows/run-tests.yml`) runs TypeScript compilation (`npx tsc --noEmit`), vitest tests, build, and coverage on `src/plgg`. Failure of this workflow blocks merging but does not trigger any recovery action. It is a quality gate, not a recovery mechanism.

Dependency vulnerability exposure is the main recovery-relevant risk identified in project constraints. The project constraint (`/home/ec2-user/projects/plgg/.workaholic/constraints/project.md`, Dependency Currency section) requires Dependabot PRs for security-relevant packages to be merged or rejected within 30 days. This is a policy obligation; no automated remediation tool is configured.

## Observations

The plgg monorepo is a stateless TypeScript library. It produces no runtime-persistent data and operates no server processes. All meaningful "recovery" concerns reduce to source code and npm artifact availability, both of which are addressed implicitly through git hosting on GitHub and npm publication. The CalVer release tagging in `release.yml` provides a record of released states. The test CI pipeline in `run-tests.yml` ensures source integrity before publication.

The dependency currency constraint affecting this lead is concrete: Dependabot PR #10 (`lodash`) was open as of the project context scan and carries a known CVE. No automated remediation is in place.

## Gaps

The following recovery-relevant areas were analyzed and no evidence was found. Each is marked "not observed" rather than omitted.

**Backup automation**: Not observed. No backup scripts, scheduled jobs, or cloud snapshot configurations exist in the repository.

**Database or persistent storage**: Not observed. The project has no database layer.

**Migration tooling**: Not observed. No migration scripts, codemods, or schema evolution tools exist.

**Disaster recovery runbook**: Not observed. No runbook, incident response procedure, or recovery playbook exists in the repository.

**RTO / RPO targets**: Not observed. No service-level objectives are defined, consistent with the project being a library rather than a hosted service.

**Retention policy**: Not observed. No explicit policy governs how long npm packages, git tags, or any other artifacts are retained.

**Rollback procedure**: Not observed. No documented process exists for reverting a published npm package version or a mistaken git tag.

**On-call or escalation policy**: Not observed. No incident response escalation chain is defined.
